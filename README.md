# پلتفرم هوش مصنوعی - Persian AI SaaS Platform

پلتفرم پیشرفته SaaS هوش مصنوعی با قابلیت ساخت ایجنت‌های شخصی، حافظه پایدار، و اتصال مخفی به API سرویس llm7.io

## ویژگی‌های کلیدی

- 🤖 **ایجنت‌های شخصی**: ساخت ایجنت‌های هوش مصنوعی با شخصیت و رفتار دلخواه
- 🧠 **حافظه پایدار**: ایجنت‌ها اطلاعات مهم را به خاطر می‌سپارند
- 💬 **چت پیشرفته**: رابط چت مدرن با پشتیبانی از Markdown و کد
- 🔐 **احراز هویت قوی**: سیستم امن با Supabase Auth
- 📊 **داشبورد مدیریت**: پنل کامل برای مدیریت کاربران و آمار
- 🚀 **عملکرد سریع**: پاسخ‌دهی فوری با بهترین مدل‌های AI
- 🔌 **قابل گسترش**: امکان اتصال به سایر مدل‌های LLM

## نصب و راه‌اندازی

### پیش‌نیازها

- Node.js 18+ 
- npm یا yarn
- حساب Supabase
- حساب Vercel (اختیاری برای deploy)

### مراحل نصب

1. **کلون کردن پروژه**
\`\`\`bash
git clone <repository-url>
cd ai-proxy-platform
\`\`\`

2. **نصب وابستگی‌ها**
\`\`\`bash
npm install
\`\`\`

3. **تنظیم متغیرهای محیطی**
فایل \`.env.local\` بسازید:
\`\`\`env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
\`\`\`

4. **راه‌اندازی دیتابیس**
اسکریپت‌های SQL موجود در پوشه \`scripts\` را در Supabase اجرا کنید:
- \`01-initial-schema.sql\`

5. **اجرای پروژه**
\`\`\`bash
npm run dev
\`\`\`

## ساختار پروژه

\`\`\`
├── app/                    # Next.js App Router
│   ├── api/               # API Routes
│   ├── auth/              # صفحات احراز هویت
│   ├── dashboard/         # داشبورد کاربری
│   ├── chat/              # رابط چت
│   ├── agents/            # مدیریت ایجنت‌ها
│   └── admin/             # پنل مدیریت
├── components/            # کامپوننت‌های React
├── lib/                   # کتابخانه‌ها و utilities
│   ├── supabase/         # تنظیمات Supabase
│   ├── auth.ts           # احراز هویت
│   ├── api-client.ts     # کلاینت API
│   └── memory.ts         # مدیریت حافظه
├── scripts/              # اسکریپت‌های SQL
└── README.md
\`\`\`

## API Reference

### احراز هویت

تمام درخواست‌های API نیاز به header زیر دارند:
\`\`\`
Authorization: Bearer YOUR_API_TOKEN
\`\`\`

### Endpoints

#### \`GET /api/models\`
دریافت لیست مدل‌های موجود

#### \`POST /api/chat/completions\`
ارسال پیام به مدل AI

**Body:**
\`\`\`json
{
  "model": "gpt-3.5-turbo",
  "messages": [
    {"role": "user", "content": "سلام"}
  ],
  "agent_id": "optional-agent-id",
  "temperature": 0.7,
  "max_tokens": 2000
}
\`\`\`

## ساخت ایجنت

### مراحل ساخت ایجنت جدید

1. به بخش "ایجنت‌ها" بروید
2. روی "ایجنت جدید" کلیک کنید
3. اطلاعات زیر را پر کنید:
   - **نام**: نام ایجنت
   - **توضیحات**: توضیح کوتاه از ایجنت
   - **System Prompt**: دستورالعمل اولیه برای ایجنت
   - **مدل**: انتخاب مدل AI
   - **حافظه**: فعال/غیرفعال کردن حافظه

### مثال System Prompt

\`\`\`
شما یک مشاور فنی هستید که در زمینه برنامه‌نویسی تخصص دارید.
همیشه پاسخ‌های دقیق و کاربردی ارائه دهید.
از زبان فارسی استفاده کنید و مثال‌های عملی ارائه دهید.
\`\`\`

## مدیریت حافظه

### انواع حافظه

1. **حافظه مکالمه**: ذخیره تاریخچه مکالمات
2. **حافظه برداری**: جستجوی هوشمند در اطلاعات
3. **حافظه JSON**: ذخیره داده‌های ساختاریافته

### استفاده از حافظه

حافظه به صورت خودکار در مکالمات استفاده می‌شود. ایجنت‌ها می‌توانند:
- اطلاعات قبلی را به خاطر بسپارند
- بر اساس تاریخچه پاسخ دهند
- اطلاعات شخصی کاربر را ذخیره کنند

## Deploy کردن

### Vercel

1. پروژه را به GitHub push کنید
2. در Vercel حساب بسازید
3. پروژه را import کنید
4. متغیرهای محیطی را تنظیم کنید
5. Deploy کنید

### Docker

\`\`\`bash
docker build -t ai-platform .
docker run -p 3000:3000 ai-platform
\`\`\`

## توسعه و سفارشی‌سازی

### اضافه کردن مدل جدید

1. فایل \`lib/api-client.ts\` را ویرایش کنید
2. endpoint جدید اضافه کنید
3. در پنل ادمین مدل را فعال کنید

### ساخت Plugin

برای اتصال به سرویس‌های دیگر مانند Claude یا Gemini:

1. فایل جدید در \`lib/providers/\` بسازید
2. interface مشترک پیاده‌سازی کنید
3. در تنظیمات سیستم فعال کنید

## مشکلات رایج

### خطای اتصال به دیتابیس
- بررسی کنید متغیرهای Supabase درست تنظیم شده باشند
- RLS policies را بررسی کنید

### خطای API Token
- مطمئن شوید token معتبر است
- محدودیت‌های token را بررسی کنید

### مشکل در حافظه ایجنت
- بررسی کنید حافظه برای ایجنت فعال باشد
- جداول مربوط به memory را بررسی کنید

## مشارکت

برای مشارکت در پروژه:

1. Fork کنید
2. Branch جدید بسازید
3. تغییرات را commit کنید
4. Pull Request ارسال کنید

## لایسنس

این پروژه تحت لایسنس MIT منتشر شده است.

## پشتیبانی

برای پشتیبانی و سوالات:
- GitHub Issues
- ایمیل: support@example.com

---

**نکته**: این پروژه از API سرویس llm7.io استفاده می‌کند. برای استفاده تجاری، لطفاً شرایط استفاده آن سرویس را بررسی کنید.
